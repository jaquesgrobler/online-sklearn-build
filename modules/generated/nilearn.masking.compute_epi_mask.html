

<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>NiLearn: Machine learning for NeuroImaging in Python &mdash; Machine learning for NeuroImaging</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Machine learning for NeuroImaging" href="../../index.html" />
<meta content="True" name="HandheldFriendly">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta name="keywords" content="nilearn, neuroimaging, python, neuroscience, machinelearning">

  </head>
  <body>
<div id="logo-banner">
  <div class="logo">
    <a href="../../index.html">
      <img src="../../_static/nilearn-logo.png" alt="NiLearn logo"  border="0" />
    </a>
  </div>
  <div class="banner">
    <h1>NiLearn:</h1>
    <h2>Machine learning for Neuro-Imaging in Python</h2>
  </div>
  <div class="search_form">
    <div id="cse" style="width: 100%;"></div>
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript">
      google.load('search', '1', {language : 'en'});
      google.setOnLoadCallback(function() {
      var customSearchControl = new google.search.CustomSearchControl('014136483057745874622:r-npolb1uki');
      customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
      var options = new google.search.DrawOptions();
      options.setAutoComplete(true);
      customSearchControl.draw('cse', options);
      }, true);
    </script>
  </div>
</div>


    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../np-modindex.html" title="Python Module Index"
             >modules</a></li>
<li><a href="../../index.html">NiLearn Home</a> |&nbsp;</li>
<li><a href="../../user_guide.html">User Guide</a> |&nbsp;</li>
<li><a href="../../auto_examples/index.html">Examples</a> |&nbsp;</li>
<li><a href="../classes.html">Reference</a> |&nbsp;</li>
<li><a href="../../AUTHORS.html" id="navbar-about">About</a></li>
 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

<h4> Github repository </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="https://github.com/nilearn/nilearn">NiLearn GitHub</a></li>
  </ul>

<h4> Giving credit </h4>
  <ul class="simple">
    <li><p>Please consider <a href="../../AUTHORS.html#citing">citing the
                    scikit-learn</a> if you use it.</p></li>
  </ul>


<div class="navbar">
</div> <!-- end navbar -->

<script type="text/javascript">$('#searchbox-ml').show(0);</script>
<script type="text/javascript">$('#searchbox-site').show(0);</script>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="nilearn-masking-compute-epi-mask">
<h1>7.4.1.1. nilearn.masking.compute_epi_mask<a class="headerlink" href="#nilearn-masking-compute-epi-mask" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="nilearn.masking.compute_epi_mask">
<tt class="descclassname">nilearn.masking.</tt><tt class="descname">compute_epi_mask</tt><big>(</big><em>epi_img</em>, <em>lower_cutoff=0.2</em>, <em>upper_cutoff=0.9</em>, <em>connected=True</em>, <em>opening=2</em>, <em>exclude_zeros=False</em>, <em>ensure_finite=True</em>, <em>target_affine=None</em>, <em>target_shape=None</em>, <em>memory=None</em>, <em>verbose=0</em><big>)</big><a class="headerlink" href="#nilearn.masking.compute_epi_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a brain mask from fMRI data in 3D or 4D ndarrays.</p>
<p>This is based on an heuristic proposed by T.Nichols:
find the least dense point of the histogram, between fractions
lower_cutoff and upper_cutoff of the total image histogram.</p>
<p>In case of failure, it is usually advisable to increase lower_cutoff.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>epi_img: nifti-like image</strong> :</p>
<blockquote>
<div><p>EPI image, used to compute the mask. 3D and 4D images are accepted.
If a 3D image is given, we suggest to use the mean image</p>
</div></blockquote>
<p><strong>lower_cutoff: float, optional</strong> :</p>
<blockquote>
<div><p>lower fraction of the histogram to be discarded.</p>
</div></blockquote>
<p><strong>upper_cutoff: float, optional</strong> :</p>
<blockquote>
<div><p>upper fraction of the histogram to be discarded.</p>
</div></blockquote>
<p><strong>connected: bool, optional</strong> :</p>
<blockquote>
<div><p>if connected is True, only the largest connect component is kept.</p>
</div></blockquote>
<p><strong>opening: bool or int, optional</strong> :</p>
<blockquote>
<div><p>if opening is True, an morphological opening is performed, to keep
only large structures. This step is useful to remove parts of
the skull that might have been included.
If opening is an integer &#8216;n&#8217;, it is performed via &#8216;n&#8217; erosion
followed by &#8216;n&#8217; dilations.</p>
</div></blockquote>
<p><strong>ensure_finite: bool</strong> :</p>
<blockquote>
<div><p>If ensure_finite is True, the non-finite values (NaNs and infs)
found in the images will be replaced by zeros</p>
</div></blockquote>
<p><strong>exclude_zeros: bool, optional</strong> :</p>
<blockquote>
<div><p>Consider zeros as missing values for the computation of the
threshold. This option is useful if the images have been
resliced with a large padding of zeros.</p>
</div></blockquote>
<p><strong>target_affine: 3x3 or 4x4 matrix, optional</strong> :</p>
<blockquote>
<div><p>This parameter is passed to image.resample_img. Please see the
related documentation for details.</p>
</div></blockquote>
<p><strong>target_shape: 3-tuple of integers, optional</strong> :</p>
<blockquote>
<div><p>This parameter is passed to image.resample_img. Please see the
related documentation for details.</p>
</div></blockquote>
<p><strong>memory: instance of joblib.Memory or string</strong> :</p>
<blockquote>
<div><p>Used to cache the function call.</p>
</div></blockquote>
<p><strong>verbose: int, optional</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>mask: nibabel.Nifti1Image</strong> :</p>
<blockquote class="last">
<div><p>The brain mask (3D image)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../np-modindex.html" title="Python Module Index"
             >modules</a></li>
<li><a href="../../index.html">NiLearn Home</a> |&nbsp;</li>
<li><a href="../../user_guide.html">User Guide</a> |&nbsp;</li>
<li><a href="../../auto_examples/index.html">Examples</a> |&nbsp;</li>
<li><a href="../classes.html">Reference</a> |&nbsp;</li>
<li><a href="../../AUTHORS.html" id="navbar-about">About</a></li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright INRIA Parietal 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>